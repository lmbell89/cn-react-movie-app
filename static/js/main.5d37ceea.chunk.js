(this["webpackJsonpcn-react-movie-app"]=this["webpackJsonpcn-react-movie-app"]||[]).push([[0],{12:function(e,t,a){e.exports={nav:"navbar_nav__1IB3A",container:"navbar_container__3j3rJ",appTitle:"navbar_appTitle__gWqEO",search:"navbar_search__N25Sl",searchInput:"navbar_searchInput__2dPwo",searchButton:"navbar_searchButton__3gbWK"}},13:function(e,t,a){e.exports={container:"movie_container__3t294",title:"movie_title__2n2dh",voteAvg:"movie_voteAvg__1fFOG",overview:"movie_overview__3l_37"}},14:function(e,t,a){e.exports={tile:"tile_tile__1BbVi",title:"tile_title__1ezmR",subText:"tile_subText__3e4JP",rating:"tile_rating__11GmW"}},20:function(e,t,a){e.exports={container:"searchResults_container__Vq7C_",tileContainer:"searchResults_tileContainer__3I7XO"}},21:function(e,t,a){e.exports={button:"sortButton_button__2fktU",active:"sortButton_active__3f1CD"}},24:function(e,t,a){},29:function(e,t,a){e.exports={sortButtons:"homepage_sortButtons__3Ge7K"}},34:function(e,t,a){},41:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(25),s=a.n(c),i=a(8),o=(a(34),a(2)),u=a(10),l=a(12),p=a.n(l),v=a(0),A=function(){var e=Object(n.useState)(""),t=Object(u.a)(e,2),a=t[0],r=t[1],c=Object(o.f)();return Object(v.jsx)("nav",{className:p.a.nav,children:Object(v.jsxs)("div",{className:p.a.container,children:[Object(v.jsx)(i.b,{to:"/",children:Object(v.jsx)("h1",{className:p.a.appTitle,children:"Movies App"})}),Object(v.jsxs)("form",{className:p.a.search,onSubmit:function(e){c.push({pathname:"/search",state:{title:a}}),e.preventDefault()},children:[Object(v.jsx)("input",{className:p.a.searchInput,type:"text",onChange:function(e){r(e.target.value)},value:a}),Object(v.jsx)("input",{type:"submit",className:p.a.searchButton,value:"\ud83d\udd0d"})]})]})})},d=a(4),j=a.n(d),b=a(9),h=a(27),m=a.n(h),f=a(28),x=function(){var e=Object(b.a)(j.a.mark((function e(t){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.poster_path){e.next=6;break}return e.next=3,O(t.poster_path);case 3:a=e.sent,e.next=7;break;case 6:a="data:image/png;base64,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";case 7:return e.abrupt("return",{title:t.title,imgSrc:a,voteAvg:t.vote_average.toFixed(1),releaseDate:t.release_date,overview:t.overview,movieId:t.id});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(b.a)(j.a.mark((function e(t){var a,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t).then((function(e){return e.json()}));case 2:if((a=e.sent).results){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,Promise.all(a.results.map((function(e){return x(e)})));case 7:return n=e.sent,e.abrupt("return",{results:n,pageCount:a.total_pages,pageItems:a.results.length,totalItems:a.total_results});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(b.a)(j.a.mark((function e(t){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(y.IMAGE_BASE_URL,"/w200/").concat(t)).then((function(e){return e.blob()})).then((function(e){return URL.createObjectURL(e)}));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(e){var t=[];return e.title&&t.push(e.title.split(" ").filter((function(e){return e})).join("+")),e.sort&&t.push("sort_by=".concat({title:"original_title.asc",rating:"vote_average.desc",date:"primary_release_date.desc",popularity:"popularity.desc"}[e.sort])),e.adult&&t.push("include_adult=true"),e.page&&t.push("page=".concat(e.page)),e.minRating&&t.push("vote_average.gte=".concat(e.minRating)),e.minVotes&&t.push("vote_count.gte=".concat(e.minVotes)),e.year&&t.push("year=".concat(e.year)),t.join("&")},y=function e(){Object(f.a)(this,e)};y.KEY="0f0a1bd520946ddd18204d0ae65f52ed",y.MOVIE_BASE_URL="https://api.themoviedb.org/3",y.IMAGE_BASE_URL="https://image.tmdb.org/t/p",y.getMovieById=function(){var e=Object(b.a)(j.a.mark((function e(t){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat(y.MOVIE_BASE_URL,"/movie/").concat(t,"?api_key=").concat(y.KEY),e.abrupt("return",fetch(a).then((function(e){return e.json()})).then((function(e){return x(e)})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y.getMovieByTitle=function(){var e=Object(b.a)(j.a.mark((function e(t){var a,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=_(t),n="".concat(y.MOVIE_BASE_URL,"/search/movie?api_key=").concat(y.KEY,"&query=").concat(a),e.next=4,g(n);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y.getSearchResults=function(){var e=Object(b.a)(j.a.mark((function e(t){var a,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=_(t),n="".concat(y.MOVIE_BASE_URL,"/discover/movie?api_key=").concat(y.KEY,"&").concat(a),e.next=4,g(n);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var N=a(14),R=a.n(N),W=function(e){var t;return Object(v.jsxs)(i.b,{className:R.a.tile,to:{pathname:"/movie",state:{title:e.title,imgSrc:e.imgSrc,voteAvg:e.voteAvg,releaseDate:e.releaseDate,overview:e.overview}},children:[Object(v.jsx)("img",{src:e.imgSrc,alt:"".concat(e.title," poster")}),Object(v.jsxs)("div",{className:R.a.info,children:[Object(v.jsx)("div",{className:R.a.title,children:e.title}),Object(v.jsxs)("div",{className:R.a.subText,children:[Object(v.jsx)("span",{className:R.a.rating,children:e.voteAvg}),Object(v.jsx)("span",{children:null===(t=e.releaseDate)||void 0===t?void 0:t.substr(0,4)})]})]})]})},B=a(20),S=a.n(B),E=(a(24),function(e){var t=Object(n.useState)([]),a=Object(u.a)(t,2),r=a[0],c=a[1],s=Object(n.useState)(0),i=Object(u.a)(s,2),o=i[0],l=i[1],p=Object(n.useState)(1),A=Object(u.a)(p,2),d=A[0],h=A[1];Object(n.useEffect)((function(){f(d)}),[e.searchParams]);var f=function(){var t=Object(b.a)(j.a.mark((function t(a){var n,r,s;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((s=e.searchParams).page=a,!e.advanced){t.next=8;break}return t.next=5,y.getSearchResults(s);case 5:n=t.sent,t.next=11;break;case 8:return t.next=10,y.getMovieByTitle(s);case 10:n=t.sent;case 11:n?(l(n.pageCount),r=n.results.map((function(e){return Object(v.jsx)(W,{title:e.title,imgSrc:e.imgSrc,voteAvg:e.voteAvg,releaseDate:e.releaseDate,overview:e.overview},e.movieId)}))):(l(0),r="No results found"),c(r);case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(v.jsxs)("div",{className:S.a.container,children:[Object(v.jsx)("div",{className:S.a.tileContainer,children:r}),Object(v.jsx)(m.a,{pageCount:o,pageRangeDisplayed:4,marginPagesDisplayed:0,onPageChange:function(e){h(e.selected+1),f(e.selected+1)},containerClassName:"paginate",pageClassName:"paginateButton",breakClassName:"paginateButton",previousClassName:"paginateButton",nextClassName:"paginateNextButton",activeClassName:"paginateActiveButton",pageLinkClassName:"paginateAnchor",previousLinkClassName:"paginateAnchor",nextLinkClassName:"paginateAnchor"})]})}),k=a(21),w=a.n(k),V=function(e){var t,a=e.selected?w.a.active:w.a.button;return"popularity"===e.type?t="Most Popular":"date"===e.type?t="New Releases":"rating"===e.type&&(t="Highest Rated"),Object(v.jsx)("button",{className:a,onClick:function(){return e.onClick(e.type)},children:t})},X=a(29),C=a.n(X),F=function(e){var t=Object(n.useState)("popularity"),a=Object(u.a)(t,2),r=a[0],c=a[1],s={sort:r,minRating:7.5,minVotes:200};return Object(v.jsxs)("div",{children:[Object(v.jsxs)("div",{className:C.a.sortButtons,children:[Object(v.jsx)(V,{onClick:c,type:"popularity",selected:"popularity"===r}),Object(v.jsx)(V,{onClick:c,type:"date",selected:"date"===r}),Object(v.jsx)(V,{onClick:c,type:"rating",selected:"rating"===r})]}),Object(v.jsx)(E,{searchParams:s,advanced:!0})]})},K=function(e){var t,a=Object(o.g)(),n={title:null===(t=a.state)||void 0===t?void 0:t.title}||{title:""};return console.log(a),Object(v.jsx)(E,{searchParams:n,advanced:!1})},T=a(13),U=a.n(T),q=function(){var e=Object(o.g)();return Object(v.jsxs)("div",{className:U.a.container,children:[Object(v.jsx)("img",{className:U.a.image,src:e.state.imgSrc,alt:"".concat(e.state.title," poster")}),Object(v.jsx)("div",{className:U.a.title,children:e.state.title}),Object(v.jsxs)("div",{children:[Object(v.jsxs)("div",{children:["Averate Rating:",Object(v.jsx)("span",{className:U.a.voteAvg,children:e.state.voteAvg})]}),Object(v.jsxs)("div",{className:U.a.releaseDate,children:["Release Date: ",e.state.releaseDate]})]}),Object(v.jsx)("div",{className:U.a.overview,children:e.state.overview})]})};var D=function(){return Object(v.jsxs)("div",{className:"App",children:[Object(v.jsx)(A,{}),Object(v.jsx)("div",{className:"pageContent",children:Object(v.jsxs)(o.c,{children:[Object(v.jsx)(o.a,{exact:!0,path:"/",children:Object(v.jsx)(F,{page:1})}),Object(v.jsx)(o.a,{path:"/search",children:Object(v.jsx)(K,{})}),Object(v.jsx)(o.a,{path:"/movie",children:Object(v.jsx)(q,{})})]})})]})};s.a.render(Object(v.jsx)(r.a.StrictMode,{children:Object(v.jsx)(i.a,{children:Object(v.jsx)(D,{})})}),document.getElementById("root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.5d37ceea.chunk.js.map